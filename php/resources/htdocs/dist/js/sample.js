"use strict";(()=>{var e=new Set(["focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","load","error","abort","resize","scroll","DOMContentLoaded","readystatechange","unload","beforeunload","pagehide","visibilitychange"]),t=new Set(["mousemove","pointermove","touchmove","wheel","drag","dragover","drop","input","keydown","keyup"]),o=(e,t,o)=>{const n=(e=>{if(e===document)return"document";if(e instanceof Element){const t=e.id?`#${e.id}`:"";return`<${e.tagName.toLowerCase()}${t}>`}return String(e)})(t);console.warn(`[delegate警告] ${o}\n  event="${e}" / root=${n}\n  → 委譲設計の見直しを推奨します。`)},n=(n,a,s,r={})=>{const i="string"==typeof r?{eventType:r}:r,{eventType:d="click",selector:l="[data-action]",getKey:c=e=>e.dataset.action,suppressWarn:u=!1,force:m=!1}=i;if(n){if(!u)if(e.has(d)){if(o(d,n,"委譲不可イベントです（バブリングしない/扱いが特殊）"),!m)return}else t.has(d)&&o(d,n,"委譲は非推奨です（高頻度/重い可能性）");n.addEventListener(d,e=>{const t=e.target instanceof Element?e.target:null;if(!t)return;const o=t.closest(l);if(!o)return;if(n instanceof Element&&!n.contains(o))return;const a=c(o),r=s[a];r&&r(e,o)},{signal:a.signal})}},a="is_active",s=(e=!0,t)=>{e&&(document.body.style.paddingRight="0"),document.body.style.overflow="visible"},r=400,i=()=>document.querySelector(`[data-module="modal"].${a}`),d=!1,l=(e={})=>{d||(d=!0,document.addEventListener("keydown",e=>{"Escape"===e.key&&c()}),document.addEventListener("click",e=>{i()&&e.target.hasAttribute("data-modal-overlay")&&c()}));const t=(e=>{if(e){const t=document.querySelector(`[data-module="modal"][data-modal-id="${e}"]`);if(t)return t}return document.querySelector('[data-module="modal"]')})(e.id??e.trigger?.dataset?.modalId);t&&(t.classList.add(a),t.hidden=!1,t.style.display="block",t.style.opacity="0",((e,t=300,o=!0,n)=>{o&&(e.style.display="block");const a=performance.now();let s=null;const r=o=>{if(n?.aborted)return;const i=o-a,d=Math.min(i/t,1);e.style.opacity=d,d<1&&(s=requestAnimationFrame(r))};s=requestAnimationFrame(r),n&&n.addEventListener("abort",()=>{null!==s&&cancelAnimationFrame(s)},{once:!0})})(t,r,!0,void 0),((e=!0,t)=>{const o=window.innerWidth-document.documentElement.clientWidth;e&&(document.body.style.paddingRight=`${o}px`),document.body.style.overflow="hidden",t&&t.addEventListener("abort",()=>{e&&(document.body.style.paddingRight="0"),document.body.style.overflow="visible"},{once:!0})})(!0,void 0))},c=()=>{const e=i();if(!e)return void s(!0);const t=e.querySelectorAll("[data-modal-scroll]");t.length>0&&setTimeout(()=>{t.forEach(e=>{e.scrollTop=0})},r),((e,t=300,o=!0,n)=>{const a=performance.now();let s=null;const r=i=>{if(n?.aborted)return;const d=i-a,l=Math.min(d/t,1);e.style.opacity=1-l,l<1?s=requestAnimationFrame(r):o&&(e.style.display="none")};s=requestAnimationFrame(r),n&&n.addEventListener("abort",()=>{null!==s&&cancelAnimationFrame(s)},{once:!0})})(e,r,!0,void 0),e.classList.remove(a),s(!0),setTimeout(()=>{e.hidden=!0,e.style.display="";e.querySelectorAll(`[data-module="accordion"].${a}`).forEach(e=>{const t=e.querySelector("[data-accordion-contents]");t&&(((e,t=300,o="ease-out",n)=>{"none"===e.style.display||0===e.offsetHeight?Promise.resolve():new Promise(a=>{if(n?.aborted)return void a();const s=e.offsetHeight;e.style.height=s+"px",e.style.overflow="hidden",e.style.transition=`height ${t}ms ${o}`,e.offsetHeight,e.style.height="0px";const r=setTimeout(()=>{n?.aborted||(e.style.display="none",e.style.height="",e.style.overflow="",e.style.transition=""),a()},t);n&&n.addEventListener("abort",()=>{clearTimeout(r),a()},{once:!0})})})(t,300,"ease-out",void 0),e.classList.remove(a))});e.querySelectorAll('button[style*="display: none"]').forEach(e=>{e.style.display=""})},r)},u=({scope:e})=>{n(document,e,{"modal.open":(e,t)=>{l({trigger:t,id:t.dataset.modalId})},"modal.close":()=>{c()}})};(async(e,t={})=>{await("loading"===document.readyState?new Promise(e=>{document.addEventListener("DOMContentLoaded",e,{once:!0})}):Promise.resolve());const o=e({...t,document:document,window:window})||(()=>{});window.addEventListener("pagehide",()=>o(),{once:!0})})((({getRoot:e,init:t})=>(o={})=>{const n=o.root??e?.(o);if(!n)return()=>{};const a=(e=>{const t=new AbortController;return e&&(e.aborted?t.abort():e.addEventListener("abort",()=>t.abort(),{once:!0})),{signal:t.signal,onDispose:e=>{t.signal.addEventListener("abort",e,{once:!0})},dispose:()=>t.abort()}})();return t?.({...o,root:n,scope:a}),()=>a.dispose()})({getRoot:()=>document.querySelector('[data-scope="home"]')||document.querySelector("#top"),init:({root:e,scope:t})=>{u({scope:t}),console.log("top"),n(e,t,{sampleClick:(e,t)=>{e.preventDefault(),console.log("サンプルボタンがクリックされました",t),t.dataset.message&&console.log(t.dataset.message)}})}}))})();